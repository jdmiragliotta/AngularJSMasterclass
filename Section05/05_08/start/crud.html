<!doctype html><html lang="en" ng-app="myApp"><head>  <meta charset="utf-8">  <title>$http CRUD</title>  <script src="angular.js"></script>  <script>		(function() {		var name = "myApp",			requires = [],			myApp = null,			url = "https://api.mlab.com/api/1/databases/my-academy/collections/course",			config = {params: {apiKey:"HDWv4xvjjtTemQBD0LMngWJU1RwvmxW-"}};				myApp = angular.module(name, requires);				myApp.factory("courseDataSvc", function($http, $q) {			return {				getCourses: function() {					var deferred = $q.defer();					$http.get(url, config)						.success(function(data) {							deferred.resolve(data);						})						.error(function(error){							deferred.reject(error);						})					return deferred.promise;				},				addCourse: function(course){					var deferred = $q.defer();					$http.post(url, course, config)						.success(function(data) {							deferred.resolve(data);						})						.error(function(error){							deffered.reject(error);						});						return deferred. promise;					}				}		});				myApp.controller("AppCtrl", function($scope, $http, courseDataSvc) {		    $scope.courses = [];						// variables for toggling view states			$scope.toggleAddCourseView = false;			$scope.toggleEditCourseView = false;						// to load all courses			$scope.loadCourses = function() {				$scope.courses = courseDataSvc.getCourses().then(success, error);				function success(data){					$scope.courses = data				}				function error(e){					console.log("error: ", e)				}			}						$scope.toggleAddCourse = function(flag) {				$scope.toggleAddCourseView = flag;			}						$scope.toggleEditCourse = function(flag) {				$scope.toggleEditCourseView = flag;			}						$scope.addCourse = function(course) {				courseDataSvc.addCourse(course).then(					function(data){						$scope.loadCourses();					},					function(e){						console.log("error: ", e);				});			};						$scope.editCourse = function(course) {				$scope.toggleEditCourseView = true;				$scope.courseToEdit = angular.copy(course);			}						$scope.updateCourse = function (course) {			    var id = course._id.$oid;				$http.put(url+"/"+id, course, config)					.success(function(data) {						$scope.loadCourses();					});			}						$scope.deleteCourse = function (course) {			    var id = course._id.$oid;				$http.delete(url+"/"+id, config)					.success(function(data) {						$scope.loadCourses();					});			}		});	}());	  </script></head><body ng-controller="AppCtrl">	<div>		<button ng-click="loadCourses()">Load Courses</button>		<button ng-click="toggleAddCourse(true)">Add New Course</button>	</div>	<div>		<ng-include src="'partials/course_list.html'"></ng-include>		<ng-include src="'partials/add_course.html'" ng-show="toggleAddCourseView"></ng-include>		<ng-include src="'partials/edit_course.html'" ng-show="toggleEditCourseView"></ng-include>	</div></body></html>